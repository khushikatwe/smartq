<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>SmartQ — Admin</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,system-ui;}
body{
  background:linear-gradient(135deg,#c9d6ff,#e2e2e2);
  height:100vh;display:flex;justify-content:center;align-items:center;
}
.card{
  background:rgba(255,255,255,0.7);
  padding:40px 50px;
  border-radius:20px;
  backdrop-filter:blur(12px);
  width:380px;text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
  animation:fadeIn 0.8s ease;
}
@keyframes fadeIn{0%{opacity:0;transform:translateY(20px);}100%{opacity:1;transform:translateY(0);}}
h1{font-size:26px;margin-bottom:10px;color:#222;font-weight:700;}
.now{
  font-size:60px;font-weight:900;margin:10px;color:#000;
}
.button{
  background:#4CAF50;color:white;
  padding:12px 20px;border:none;border-radius:10px;
  cursor:pointer;font-size:16px;font-weight:600;
  margin:10px;transition:0.25s;
}
.button:hover{transform:scale(1.1);}

.reset{
  background:#e63946;
}
.footer{margin-top:10px;color:#444;font-size:14px;}
</style>
</head>
<body>

<div class="card">
  <h1>Admin Panel</h1>
  <div class="now" id="nowServing">0</div>

  <button class="button" onclick="nextToken()">Next</button>
  <button class="button reset" onclick="resetAll()">Reset</button>

  <div class="footer" id="summary"></div>
</div>

<script>
function read(k,d){ return JSON.parse(localStorage.getItem(k) || JSON.stringify(d)); }
function write(k,v){ localStorage.setItem(k, JSON.stringify(v)); }

function render(){
  let c = read("currentToken", 0);
  let l = read("lastToken", 0);
  document.getElementById("nowServing").innerText = c;
  document.getElementById("summary").innerText = `Issued: ${l} • Waiting: ${Math.max(0, l-c)}`;
}

function nextToken(){
  let c = read("currentToken", 0);
  let l = read("lastToken", 0);
  if(c >= l) return alert("No tokens waiting.");
  c++;
  write("currentToken", c);
  render();
}

function resetAll(){
  if(!confirm("Reset queue?")) return;
  write("currentToken", 0);
  write("lastToken", 0);
  render();
}

window.onload = render;
</script>

</body>
</html>
